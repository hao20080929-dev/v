@font-face {
  font-family: 'Press Start 2P';
  font-style: normal;
  font-weight: 400;
  src: local('Press Start 2P');
}

:root{
  --gb-dark:#0f380f;
  --gb-mid:#306230;
  --gb-light:#8bac0f;
  --gb-bright:#9bbc0f;
  --gb-shadow:#071c07;
  --user-bg: var(--gb-dark);
  --user-glow: var(--gb-bright);
}

html,body{
  height:100%;
}

body.gameboy{
  background: var(--user-bg);
  color: var(--user-glow);
  font-family: 'Press Start 2P', 'Segoe UI', Arial, Helvetica, sans-serif;
  image-rendering: pixelated;
  display: grid;
  place-items: center;
  min-height: 100vh;
  min-height: 100dvh;
  padding: 18px;
}

.screen-frame{
  max-width: 960px;
  margin: 0;
  background: linear-gradient(180deg, var(--user-bg) 0%, #0d300d 100%);
  border-color: var(--gb-mid) !important;
  box-shadow: 0 0 0 4px var(--gb-mid), 0 0 0 8px var(--gb-shadow), inset 0 0 0 2px var(--gb-shadow);
  width: min(960px, calc(100vw - 36px));
}

.screen{
  position: relative;
  padding: 22px 18px 22px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
}

.screen::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  background: repeating-linear-gradient(180deg, rgba(0,0,0,0.08) 0px, rgba(0,0,0,0.08) 2px, transparent 2px, transparent 4px);
  mix-blend-mode: multiply;
}

.timer{
  font-size: clamp(28px, 9vw, 120px);
  line-height: 1.05;
  letter-spacing: 4px;
  color: var(--user-glow);
  text-shadow: 0 0 6px var(--gb-light), 0 0 18px var(--user-glow);
  text-align: center;
  user-select: none;
}

.timer-box{
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;
  border-color: var(--gb-mid) !important;
  box-shadow: inset 0 0 0 2px var(--gb-shadow);
  background: rgba(7,28,7,.35);
  width: fit-content;
  max-width: 92vw;
}

.scale-label{
  font-size: 12px;
  color: var(--gb-light);
  opacity: .9;
}

.exp-bar{
  width: min(92vw, 880px);
  display: grid;
  grid-template-columns: repeat(60, 1fr);
  gap: 4px;
  padding: 14px;
  border: 4px solid var(--gb-mid);
  box-shadow: inset 0 0 0 2px var(--gb-shadow);
  background: rgba(7,28,7,.5);
}

.exp-seg{
  height: clamp(10px, 2.6vw, 20px);
  background: var(--gb-dark);
  border: 2px solid var(--gb-mid);
  box-shadow: inset 0 -2px 0 0 var(--gb-shadow);
}

.exp-seg.filled{
  background: var(--gb-light);
  border-color: var(--gb-light);
  box-shadow: inset 0 -2px 0 0 var(--gb-mid), 0 0 6px 0 var(--gb-light);
}

.nes-container.is-dark.with-title>.title{
  color: var(--user-glow);
}

.controls{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
  gap: 12px;
  width: 100%;
}

.controls .nes-btn{
  min-width: 96px;
}

.btn-icon{
  margin-right: 6px;
  display: inline-block;
  transform: translateY(1px);
}

.topbar{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-top: 6px;
  margin-bottom: 10px;
}

.topbar-right{
  display: flex;
  gap: 10px;
  align-items: center;
}

.file-input{
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.install-btn[hidden]{
  display: none !important;
}

.container{
  width: 95%;
  max-width: 850px;
  margin: 0 auto;
  padding: clamp(10px, 3vw, 25px);
  display: block;
}

.view{
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 14px;
}

.is-hidden{
  display: none !important;
}

.list-actions{
  width: 100%;
  display: flex;
  justify-content: flex-end;
}

.items{
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.item-btn{
  width: 100%;
  text-align: left;
  padding: 0;
}

.item-row{
  width: 100%;
  display: flex;
  gap: 10px;
  align-items: stretch;
}

.item-open{
  flex: 1 1 auto;
  min-width: 0;
}

.item-edit{
  flex: 0 0 auto;
  align-self: center;
  white-space: nowrap;
}

.item-card{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 12px 12px;
}

.item-left{
  display: flex;
  align-items: center;
  gap: 10px;
  min-width: 0;
}

.item-emoji{
  width: 34px;
  text-align: center;
}

.item-name{
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.item-right{
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 6px;
}

.item-time{
  color: var(--user-glow);
}

.mini-progress{
  width: 220px;
  max-width: 42vw;
}

.timer-header{
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.active-item{
  display: flex;
  align-items: center;
  gap: 10px;
  min-width: 0;
  justify-content: flex-end;
  flex-wrap: wrap;
}

.active-name{
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 52vw;
}

.btn-compact{
  padding: 6px 10px;
}

.button-group{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
  gap: 12px;
  width: 100%;
}

.timer-section{
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  gap: 16px;
}

.timer-display{
  font-size: clamp(1.8rem, 10vw, 6rem);
  width: 100%;
  text-align: center;
  font-weight: bold;
}

@media (min-width: 768px){
  .timer-section{
    flex-direction: row;
    justify-content: space-between;
    align-items: stretch;
  }
  .timer-section .timer-header{
    flex: 1 1 220px;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  .timer-section .timer-box{
    flex: 2 1 460px;
    align-self: center;
  }
  .timer-section .controls{
    flex: 1 1 260px;
    align-self: center;
  }
}

.level-box{
  width: min(92vw, 880px);
  border-color: var(--gb-mid) !important;
  box-shadow: inset 0 0 0 2px var(--gb-shadow);
  background: rgba(7,28,7,.35);
  padding: 12px 12px;
}

.level-line{
  display: flex;
  align-items: baseline;
  gap: 10px;
  margin-bottom: 10px;
}

.level-value{
  color: var(--user-glow);
}

.level-next{
  margin-left: auto;
  color: var(--gb-light);
  font-size: 12px;
}

.dialog-form{
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.dialog-menu{
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

.settings-grid{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
}

.color-input{
  width: 100%;
  height: 44px;
  background: transparent;
  border: 0;
  padding: 0;
}
